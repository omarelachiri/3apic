<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Quiz Minimal</title>
  <style>
    .correct { color: green; }
    .wrong { color: red; }
  </style>
</head>
<body>
  <h1>Quiz Minimal</h1>
  <div id="quiz"></div>
  <button onclick="submitQuiz()">Valider</button>
  <p id="result"></p>

  <script>
    // Questions avec answer = index de la bonne réponse
    const quizData = [
      {
        question: "Flotte dans l'eau douce",
        options: ["PS", "PVC", "PE", "PET"],
        answer: "2" // l'index de la bonne réponse
      },
      {
        question: "Attiré par l'aimant",
        options: ["Fer", "Zinc", "Aluminium", "Cuivre"],
        answer: "0"
      },
      {
        question: "Sa couleur est rouge-brique",
        options: ["Fer", "Zinc", "Aluminium", "Cuivre"],
        answer: "3"
      },
      {
        question: "Un ...........peut être fabriqué à partir de différents matériaux.",
        options: ["Atome", "Plastique", "Objet", "Verre"],
        answer: "2"
      }
    ];

    const quizDiv = document.getElementById('quiz');

    quizData.forEach((q, index) => {
      const questionEl = document.createElement('div');
      questionEl.innerHTML = `<p>${q.question}</p>`;

      q.options.forEach((option, optIndex) => {
        const label = document.createElement('label');
        // value = index de l'option
        label.innerHTML = `<input type="radio" name="q${index}" value="${optIndex}"> ${option}`;
        questionEl.appendChild(label);
        questionEl.appendChild(document.createElement('br'));
      });

      quizDiv.appendChild(questionEl);
    });

    function submitQuiz() {
      let score = 0;
      quizData.forEach((q, index) => {
        const radios = document.querySelectorAll(`input[name="q${index}"]`);
        radios.forEach(radio => {
          const label = radio.parentElement;
          label.classList.remove('correct', 'wrong');

          if (radio.checked) {
            if (radio.value === q.answer) {
              label.classList.add('correct');
              score++;
            } else {
              label.classList.add('wrong');
            }
          }
        });
      });

      document.getElementById('result').innerText = `Votre score : ${score} / ${quizData.length}`;
    }
  </script>
</body>
</html>
